<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚òï –ß–∞—à–∫–∞ –ö–æ—Ñ–µ ‚Äî –ú–µ–Ω—é</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
<div id="app" class="min-h-screen bg-gradient-to-b from-amber-50 to-rose-50">
    <!-- –®–∞–ø–∫–∞ -->
    <header class="sticky top-0 bg-white/90 backdrop-blur-md shadow-sm z-50">
        <div class="container mx-auto px-4 py-3 flex items-center justify-between">
            <h1 class="text-2xl font-bold text-rose-800">‚òï –ß–∞—à–∫–∞ –ö–æ—Ñ–µ</h1>
            <button @click="showCart = true" class="relative p-2 rounded-full bg-rose-100 hover:bg-rose-200 transition">
                üõí <span v-if="cartTotalCount > 0" class="absolute -top-1 -right-1 bg-rose-600 text-white rounded-full w-5 h-5 text-xs flex items-center justify-center">
                    {{ cartTotalCount }}
                </span>
            </button>
        </div>
    </header>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é -->
    <main class="container mx-auto px-4 py-6">
        <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
        <div class="flex overflow-x-auto gap-3 pb-4 scrollbar-hide">
            <button v-for="category in categories" 
                    @click="selectedCategory = category.id"
                    :class="selectedCategory === category.id 
                        ? 'bg-rose-800 text-white' 
                        : 'bg-white text-gray-800'"
                    class="px-4 py-2 rounded-full shadow-sm transition-colors flex items-center gap-2">
                <span class="text-lg">{{ category.icon }}</span>
                {{ category.name }}
            </button>
        </div>

        <!-- –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <article v-for="product in filteredProducts" 
                    class="bg-white rounded-xl p-4 shadow-md hover:shadow-lg transition">
                <div class="relative">
                    <img :src="product.image" 
                        class="w-full h-48 object-cover rounded-xl mb-4" 
                        :alt="product.name">
                    <span class="absolute top-2 right-2 bg-white/90 px-3 py-1 rounded-full text-sm shadow">
                        {{ product.categoryIcon }}
                    </span>
                </div>
                
                <h3 class="font-bold text-lg mb-2">{{ product.name }}</h3>
                <p class="text-gray-600 text-sm mb-4">{{ product.description }}</p>

                <!-- –†–∞–∑–º–µ—Ä—ã -->
                <div class="grid grid-cols-2 gap-2 mb-4">
                    <button v-for="size in product.sizes"
                            @click="selectSize(product.id, size)"
                            :class="selectedSizes[product.id]?.size === size.size 
                                ? 'border-2 border-rose-800 bg-rose-50' 
                                : 'border border-gray-200'"
                            class="p-2 rounded-lg text-sm text-left transition-all">
                        <div class="font-medium">{{ size.size }}</div>
                        <div class="text-rose-800 font-bold">{{ size.price }} ‚ÇΩ</div>
                        <div class="text-gray-500 text-xs mt-1">{{ size.volume }}</div>
                    </button>
                </div>

                <button @click="addToCart(product)" 
                        class="w-full bg-rose-100 text-rose-800 px-4 py-3 rounded-xl 
                               hover:bg-rose-200 transition flex items-center justify-center gap-2">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                    </svg>
                    –î–æ–±–∞–≤–∏—Ç—å
                </button>
            </article>
        </div>
    </main>

    <!-- –ö–æ—Ä–∑–∏–Ω–∞ -->
    <div v-if="showCart" class="fixed inset-0 bg-black/50 z-50 flex items-end">
        <div class="bg-white w-full rounded-t-2xl p-6 max-h-[80vh] overflow-y-auto animate-slide-up">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold">üõí –ö–æ—Ä–∑–∏–Ω–∞</h2>
                <button @click="showCart = false" class="text-gray-500 hover:text-gray-700 text-2xl">
                    &times;
                </button>
            </div>

            <div v-if="cart.length === 0" class="text-center py-8 text-gray-500">
                –ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞
            </div>

            <div v-else>
                <div v-for="item in cart" class="flex items-center justify-between mb-4 pb-2 border-b">
                    <div class="flex-1">
                        <h3 class="font-semibold">{{ item.product.name }}</h3>
                        <div class="text-sm text-gray-500">{{ item.size.size }} ¬∑ {{ item.size.price }} ‚ÇΩ</div>
                        <div class="flex items-center gap-2 mt-2">
                            <button @click="updateQuantity(item, -1)" 
                                    class="w-8 h-8 rounded-full bg-rose-100 text-rose-800 hover:bg-rose-200">
                                -
                            </button>
                            <span class="w-8 text-center">{{ item.quantity }}</span>
                            <button @click="updateQuantity(item, 1)" 
                                    class="w-8 h-8 rounded-full bg-rose-100 text-rose-800 hover:bg-rose-200">
                                +
                            </button>
                        </div>
                    </div>
                    <div class="text-rose-800 font-bold">
                        {{ (item.size.price * item.quantity).toLocaleString() }} ‚ÇΩ
                    </div>
                </div>

                <div class="pt-4 mt-4">
                    <div class="flex justify-between mb-4 font-bold">
                        <span>–ò—Ç–æ–≥–æ:</span>
                        <span class="text-rose-800">{{ cartTotal.toLocaleString() }} ‚ÇΩ</span>
                    </div>
                    <button @click="checkout" 
                            class="w-full bg-rose-800 text-white py-3 rounded-xl 
                                   hover:bg-rose-900 transition font-semibold flex items-center justify-center gap-2">
                        üí≥ –û–ø–ª–∞—Ç–∏—Ç—å {{ cartTotal.toLocaleString() }} ‚ÇΩ
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
const { createApp } = Vue;

createApp({
    data() {
        return {
            showCart: false,
            selectedCategory: 'coffee',
            categories: [
                { id: 'coffee', name: '–ö–æ—Ñ–µ–π–Ω—ã–µ', icon: '‚òï', color: 'rose' },
                { id: 'decaf', name: '–ë–µ–∑ –∫–æ—Ñ–µ–∏–Ω–∞', icon: 'üçµ', color: 'emerald' },
                { id: 'tea', name: '–ß–∞–π–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è', icon: 'ü´ñ', color: 'amber' },
                { id: 'cold', name: '–•–æ–ª–æ–¥–Ω—ã–µ', icon: '‚ùÑÔ∏è', color: 'blue' }
            ],
            products: [
                // –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –∫–æ—Ñ–µ–π–Ω—ã–µ
                {
                    id: 1,
                    name: '–≠—Å–ø—Ä–µ—Å—Å–æ',
                    category: 'coffee',
                    categoryIcon: '‚òï',
                    description: '–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–π, –∫–∞–∫ —É—Ç—Ä–æ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∞. –ò–¥–µ–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–ª—è —á–∏—Å—Ç–æ–≥–æ –≤–∫—É—Å–∞ –∫–æ—Ñ–µ.',
                    image: '/images/espresso.jpg',
                    sizes: [{ size: 'S', price: 120, volume: '60 –º–ª' }]
                },
                {
                    id: 2,
                    name: '–ê–º–µ—Ä–∏–∫–∞–Ω–æ',
                    category: 'coffee',
                    categoryIcon: '‚òï',
                    description: '–õ—ë–≥–∫–∏–π, –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π, —Å –Ω–æ—Ç–∫–∞–º–∏ –∫–∞—Ä–∞–º–µ–ª–∏. –î–ª—è –Ω–µ—Å–ø–µ—à–Ω–æ–≥–æ –±–æ–¥—Ä—è—â–µ–≥–æ —Å—Ç–∞—Ä—Ç–∞.',
                    image: '/images/americano.jpg',
                    sizes: [
                        { size: 'S', price: 140, volume: '250 –º–ª' },
                        { size: 'M', price: 160, volume: '350 –º–ª' },
                        { size: 'L', price: 180, volume: '450 –º–ª' }
                    ]
                },
                {
                    id: 3,
                    name: '–ö–∞–ø—É—á–∏–Ω–æ',
                    category: 'coffee',
                    categoryIcon: '‚òï',
                    description: '–í–æ–∑–¥—É—à–Ω–∞—è –ø–µ–Ω–∫–∞ –∏ –±–∞—Ä—Ö–∞—Ç–Ω–æ–µ –º–æ–ª–æ–∫–æ ‚Äî –æ–±—ä—è—Ç–∏–µ –≤ —á–∞—à–∫–µ.',
                    image: '/images/cappuccino.jpg',
                    sizes: [
                        { size: 'S', price: 160, volume: '250 –º–ª' },
                        { size: 'M', price: 210, volume: '350 –º–ª' },
                        { size: 'L', price: 260, volume: '450 –º–ª' }
                    ]
                },
                {
                    id: 4,
                    name: '–õ–∞—Ç—Ç–µ',
                    category: 'coffee',
                    categoryIcon: '‚òï',
                    description: '–°–ª–∏–≤–æ—á–Ω–∞—è –Ω–µ–∂–Ω–æ—Å—Ç—å —Å –¥–µ–ª–∏–∫–∞—Ç–Ω–æ–π –º–æ–ª–æ—á–Ω–æ–π –ø–µ–Ω–∫–æ–π.',
                    image: '/images/latte.jpg',
                    sizes: [
                        { size: 'S', price: 160, volume: '250 –º–ª' },
                        { size: 'M', price: 210, volume: '350 –º–ª' },
                        { size: 'L', price: 260, volume: '450 –º–ª' }
                    ]
                },
                {
                    id: 5,
                    name: '–†–∞—Ñ',
                    category: 'coffee',
                    categoryIcon: '‚òï',
                    description: '–°–ª–∏–≤–æ—á–Ω–æ-–≤–∞–Ω–∏–ª—å–Ω–æ–µ –æ–±–ª–∞–∫–æ —Å –ª—ë–≥–∫–æ–π –∫–æ—Ñ–µ–π–Ω–æ–π –≥–æ—Ä—á–∏–Ω–∫–æ–π.',
                    image: '/images/raf.jpg',
                    sizes: [
                        { size: 'S', price: 160, volume: '250 –º–ª' },
                        { size: 'M', price: 210, volume: '350 –º–ª' },
                        { size: 'L', price: 260, volume: '450 –º–ª' }
                    ]
                },
                {
                    id: 6,
                    name: '–§–ª—ç—Ç-–£–∞–π—Ç',
                    category: 'coffee',
                    categoryIcon: '‚òï',
                    description: '–ü–ª–æ—Ç–Ω—ã–π –∏ –Ω–∞—Å—ã—â–µ–Ω–Ω—ã–π —Å —à–µ–ª–∫–æ–≤–∏—Å—Ç–æ–π —Ç–µ–∫—Å—Ç—É—Ä–æ–π.',
                    image: '/images/flat-white.jpg',
                    sizes: [
                        { size: 'S', price: 260, volume: '250 –º–ª' },
                        { size: 'L', price: 360, volume: '450 –º–ª' }
                    ]
                },
                {
                    id: 7,
                    name: '–ú–æ–∫–∫–æ',
                    category: 'coffee',
                    categoryIcon: '‚òï',
                    description: '–®–æ–∫–æ–ª–∞–¥–Ω—ã–π –¥–µ—Å–µ—Ä—Ç –≤ —á–∞—à–∫–µ —Å –∫–∞—Ä–∞–º–µ–ª—å–Ω—ã–º–∏ –Ω–æ—Ç–∫–∞–º–∏.',
                    image: '/images/mocha.jpg',
                    sizes: [
                        { size: 'M', price: 260, volume: '350 –º–ª' },
                        { size: 'L', price: 310, volume: '450 –º–ª' }
                    ]
                },

                // –ë–µ–∑ –∫–æ—Ñ–µ–∏–Ω–∞
                {
                    id: 8,
                    name: '–ú–∞—Ç—á–∞-–õ–∞—Ç—Ç–µ',
                    category: 'decaf',
                    categoryIcon: 'üçµ',
                    description: '–Ø–ø–æ–Ω—Å–∫–∞—è —Ü–µ—Ä–µ–º–æ–Ω–∏—è: —Ç—Ä–∞–≤—è–Ω–∏—Å—Ç–∞—è —Å–≤–µ–∂–µ—Å—Ç—å –∏ —Å–ª–∏–≤–æ—á–Ω–∞—è –Ω–µ–∂–Ω–æ—Å—Ç—å.',
                    image: '/images/matcha.jpg',
                    sizes: [
                        { size: 'S', price: 210, volume: '250 –º–ª' },
                        { size: 'M', price: 260, volume: '350 –º–ª' },
                        { size: 'L', price: 310, volume: '450 –º–ª' }
                    ]
                },
                {
                    id: 9,
                    name: '–ö–∞–∫–∞–æ',
                    category: 'decaf',
                    categoryIcon: 'üçµ',
                    description: '–ì—É—Å—Ç–æ–µ –¥–µ—Ç—Å–∫–æ–µ –Ω–∞—Å–ª–∞–∂–¥–µ–Ω–∏–µ —Å –∑–µ—Ñ–∏—Ä–Ω—ã–º –∫—Ä–µ–º–æ–º.',
                    image: '/images/cocoa.jpg',
                    sizes: [
                        { size: 'S', price: 160, volume: '250 –º–ª' },
                        { size: 'M', price: 210, volume: '350 –º–ª' },
                        { size: 'L', price: 260, volume: '450 –º–ª' }
                    ]
                },

                // –ß–∞–π–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è
                {
                    id: 10,
                    name: '–ß—ë—Ä–Ω—ã–π —á–∞–π',
                    category: 'tea',
                    categoryIcon: 'ü´ñ',
                    description: '–ö–ª–∞—Å—Å–∏–∫–∞ —Å —Ç–µ—Ä–ø–∫–∏–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–æ–º –¥–ª—è —è—Å–Ω–æ–≥–æ —É—Ç—Ä–∞.',
                    image: '/images/black-tea.jpg',
                    sizes: [
                        { size: 'M', price: 140, volume: '350 –º–ª' },
                        { size: 'L', price: 180, volume: '450 –º–ª' }
                    ]
                },
                {
                    id: 11,
                    name: '–ó–µ–ª—ë–Ω—ã–π —á–∞–π',
                    category: 'tea',
                    categoryIcon: 'ü´ñ',
                    description: '–°–≤–µ–∂–µ—Å—Ç—å –∏ –ª—ë–≥–∫–∞—è –≥–æ—Ä—á–∏–Ω–∫–∞ –¥–ª—è –æ—á–∏—â–µ–Ω–∏—è –º—ã—Å–ª–µ–π.',
                    image: '/images/green-tea.jpg',
                    sizes: [
                        { size: 'M', price: 140, volume: '350 –º–ª' },
                        { size: 'L', price: 180, volume: '450 –º–ª' }
                    ]
                },
                {
                    id: 12,
                    name: '–ú–æ–ª–æ—á–Ω—ã–π —É–ª—É–Ω',
                    category: 'tea',
                    categoryIcon: 'ü´ñ',
                    description: '–¢–∞–π–≤–∞–Ω—å—Å–∫–∞—è –º–∞–≥–∏—è —Å–æ —Å–ª–∏–≤–æ—á–Ω—ã–º–∏ –Ω–æ—Ç–∞–º–∏.',
                    image: '/images/oolong.jpg',
                    sizes: [
                        { size: 'M', price: 140, volume: '350 –º–ª' },
                        { size: 'L', price: 180, volume: '450 –º–ª' }
                    ]
                },
                {
                    id: 13,
                    name: '–ú–∞–ª–∏–Ω–æ–≤–æ–µ —É—Ç—Ä–æ',
                    category: 'tea',
                    categoryIcon: 'ü´ñ',
                    description: '–Ø–≥–æ–¥–Ω—ã–π —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫ —Å –∫–∏—Å–ª–∏–Ω–∫–æ–π –≤–º–µ—Å—Ç–æ –±—É–¥–∏–ª—å–Ω–∏–∫–∞.',
                    image: '/images/raspberry-tea.jpg',
                    sizes: [
                        { size: 'M', price: 180, volume: '350 –º–ª' },
                        { size: 'L', price: 210, volume: '450 –º–ª' }
                    ]
                },
                {
                    id: 14,
                    name: '–ê–Ω–∞–Ω–∞—Å-–í–∏—à–Ω—è',
                    category: 'tea',
                    categoryIcon: 'ü´ñ',
                    description: '–¢—Ä–æ–ø–∏—á–µ—Å–∫–∏–π –º–∏–∫—Å —Å–ª–∞–¥–æ—Å—Ç–∏ –∏ –∏–≥—Ä–∏–≤–æ–π –∫–∏—Å–ª–∏–Ω–∫–∏.',
                    image: '/images/pineapple-tea.jpg',
                    sizes: [
                        { size: 'M', price: 180, volume: '350 –º–ª' },
                        { size: 'L', price: 210, volume: '450 –º–ª' }
                    ]
                },

                // –•–æ–ª–æ–¥–Ω—ã–µ –Ω–∞–ø–∏—Ç–∫–∏
                {
                    id: 15,
                    name: '–ê–π—Å-–õ–∞—Ç—Ç–µ',
                    category: 'cold',
                    categoryIcon: '‚ùÑÔ∏è',
                    description: '–û—Ö–ª–∞–∂–¥—ë–Ω–Ω–∞—è –Ω–µ–∂–Ω–æ—Å—Ç—å –∏–∑ –º–æ–ª–æ–∫–∞ –∏ —ç—Å–ø—Ä–µ—Å—Å–æ.',
                    image: '/images/ice-latte.jpg',
                    sizes: [
                        { size: 'M', price: 210, volume: '350 –º–ª' },
                        { size: 'L', price: 260, volume: '450 –º–ª' }
                    ]
                },
                {
                    id: 16,
                    name: '–ë–∞–º–±–ª-–∫–æ—Ñ–µ (–ê–ø–µ–ª—å—Å–∏–Ω)',
                    category: 'cold',
                    categoryIcon: '‚ùÑÔ∏è',
                    description: '–¶–∏—Ç—Ä—É—Å–æ–≤—ã–π –≤–∑—Ä—ã–≤ –≤ –≥–∞—Ä–º–æ–Ω–∏–∏ —Å –∫–æ—Ñ–µ.',
                    image: '/images/orange-coffee.jpg',
                    sizes: [
                        { size: 'M', price: 260, volume: '350 –º–ª' },
                        { size: 'L', price: 310, volume: '450 –º–ª' }
                    ]
                },
                {
                    id: 17,
                    name: '–ë–∞–º–±–ª-–∫–æ—Ñ–µ (–í–∏—à–Ω—è)',
                    category: 'cold',
                    categoryIcon: '‚ùÑÔ∏è',
                    description: '–ò–≥—Ä–∏–≤–∞—è –≤–∏—à–Ω—ë–≤–∞—è –Ω–æ—Ç–∫–∞ —Å –∫–æ—Ñ–µ–π–Ω–æ–π –≥–æ—Ä—á–∏–Ω–∫–æ–π.',
                    image: '/images/cherry-coffee.jpg',
                    sizes: [
                        { size: 'M', price: 260, volume: '350 –º–ª' },
                        { size: 'L', price: 310, volume: '450 –º–ª' }
                    ]
               